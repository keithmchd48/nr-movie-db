import{b as G,o as O,r as c,u as $,j as e,s as B,P as H,p as W,q as n,L as q,t as J,v as K,w as Q,B as X,H as Y}from"./index-M4TfhhmS.js";const k=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,ee=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,se=(r,o)=>r?k.test(r)?o?"":"emptyPassword":"invalidEmail":"emptyEmail",te=(r,o,t,b)=>{if(!o)return"emptyEmail";if(!t)return"emptyPassword";const g=k.test(o),a=ee.test(t);return r?g?a?t!==b?"passwordMismatch":"":"invalidPassword":"invalidEmail":"fullNameRequired"},ae="auth/invalid-credential",ne=()=>{const r=G(),o=O(),[t,b]=c.useState("login"),[g,a]=c.useState(""),{t:s}=$(),y=s(t==="login"?"signIn":"signUp"),N=()=>{b(t==="login"?"signup":"login"),a(()=>"")},x=c.useRef(null),l=c.useRef(null),i=c.useRef(null),f=c.useRef(null),F=v=>{var j,E,R,A,U,P;if(v.preventDefault(),t==="login"){const u=(j=l==null?void 0:l.current)==null?void 0:j.value,d=(E=i==null?void 0:i.current)==null?void 0:E.value;let m=se(u||"",d||"");if(a(()=>""),m!==""){a(()=>s(m));return}B(n,u||"",d||"").then(()=>{a(()=>""),o(H.BROWSE)}).catch(w=>{console.log(w.code),w.code===ae&&a(()=>s("invalidCredentials"))})}else{const u=(R=x==null?void 0:x.current)==null?void 0:R.value,d=(A=l==null?void 0:l.current)==null?void 0:A.value,m=(U=i==null?void 0:i.current)==null?void 0:U.value,w=(P=f==null?void 0:f.current)==null?void 0:P.value,V=te(u||"",d||"",m||"",w||"");if(a(()=>""),V){a(()=>s(V));return}W(n,d||"",m||"").then(()=>{if(a(()=>""),!n.currentUser){r(q());return}J(n.currentUser,{displayName:u||"",photoURL:Q}).then(()=>{var L,S,T,C,z,D,I,_;const p=((S=(L=n)==null?void 0:L.currentUser)==null?void 0:S.uid)||"",h=((C=(T=n)==null?void 0:T.currentUser)==null?void 0:C.email)||"",M=((D=(z=n)==null?void 0:z.currentUser)==null?void 0:D.photoURL)||"",Z=((_=(I=n)==null?void 0:I.currentUser)==null?void 0:_.displayName)||"";r(K({uid:p,email:h,displayName:Z,photoURL:M}))}).catch(p=>{const h=p.message;console.log(h)})}).catch(p=>{const h=p.message;console.log(h)})}};return e.jsxs("div",{className:"max-w-md my-0 mx-auto py-12 sm:px-16 bg-brand-black/80 rounded",children:[e.jsx("h1",{className:"text-white text-4xl mb-7 font-bold",children:y}),e.jsxs("div",{onSubmit:v=>v.preventDefault(),children:[t==="signup"&&e.jsx("input",{ref:x,type:"text",placeholder:s("fullNamePlaceholder"),className:"w-full bg-gray-800 opacity-80 text-white p-3 mb-4 rounded"}),e.jsx("input",{ref:l,type:"text",onChange:()=>{},placeholder:s("emailPlaceholder"),className:"w-full bg-gray-800 opacity-80 text-white p-3 mb-4 rounded"}),e.jsx("input",{ref:i,type:"password",onChange:()=>{},placeholder:s("passwordPlaceholder"),className:"w-full bg-gray-800 text-white p-3 mb-4 opacity-80 rounded"}),t==="signup"&&e.jsx("input",{ref:f,type:"password",placeholder:s("confirmPasswordPlaceholder"),className:"w-full bg-gray-800 text-white p-3 mb-4 opacity-80 rounded"}),e.jsx("button",{onClick:F,className:"w-full bg-brand-orange text-white p-3 opacity-100 rounded hover:bg-[#e55303]",children:y}),g&&e.jsx("p",{className:"text-red-500 font-thin text-sm my-2",children:g})]}),t==="login"?e.jsxs("p",{className:"text-gray-300 mt-40 font-normal",children:[s("newToApp"),e.jsx("button",{onClick:N,className:"text-white hover:underline font-medium ml-2",children:s("signUpNow")})]}):e.jsxs("p",{className:"text-gray-300 mt-40 font-normal",children:[s("alreadyMember"),e.jsx("button",{onClick:N,className:"text-white hover:underline font-medium ml-2",children:s("signInNow")})]})]})},le=()=>e.jsxs("div",{className:"bg-brand-black z-0 relative min-h-screen",children:[e.jsx("div",{className:"bg-cover max-sm:hidden opacity-50 bg-center bg-no-repeat inset-0 h-full min-h-screen overflow-hidden absolute w-full -z-10",children:e.jsx("img",{alt:"bg_img",src:X,className:"min-h-full min-w-full"})}),e.jsx(Y,{}),e.jsx("div",{className:"flex items-center h-screen",children:e.jsx("div",{className:"max-w-md px-6 my-0 mx-auto",children:e.jsx(ne,{})})})]});export{le as default};
